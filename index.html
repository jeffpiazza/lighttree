<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Lighttree by jeffpiazza</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Lighttree</h1>
        <h2>Pinewood derby light tree, powered by a Raspberry Pi</h2>
        <a href="https://github.com/jeffpiazza/lighttree" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
         
<p>For running pinewood derby races, I've been envious of the "Christmas tree light" systems I've seen,
that flash lights in sequence on a pole just before triggering a race.  
This summer I decided to build my own light tree.  Here's the result:</p>
<p></p>
<p class="photos"><a href="http://www.youtube.com/watch?feature=player_embedded&v=TunL0nyWpiI"
      target="_blank">
  <img src="http://img.youtube.com/vi/TunL0nyWpiI/0.jpg" alt="Pinewood Derby Light Tree"
       border="10" />
       </a>
</p>
<p></p>
<p class="photos">
  <a href="https://picasaweb.google.com/105062543102538479872/6308273985755876737?authuser=0&feat=directlink">
    <img src="https://lh3.googleusercontent.com/-C3R64dDWf-U/V4t9xNZgpII/AAAAAAAACLo/X8sfPJoZOEE99Vh3sLwPle3y5MVs49zTACCo/s144/IMG_6784.jpg" height="192" width="288" />
    </a>
</p>

<p>Physically, the tree starts as a 6-foot 4x4 vinyl fence post, to which ten light sockets are mounted.  
On the back there's an arcade game pushbutton ("ready" button), two RCA jacks, and a couple of access cut-outs.  
A handheld pushbutton switch plugs in to one RCA jack, and initiates the starting sequence.  
The other RCA jack connects to the electrically-operated starting gate on the track.  
The base is a piece of 2x4, cut to fit just inside the post, and mounted to a piece of plywood.  
The base is attached to the post by a pair of 1/4" bolts that pass through holes in the bottom of the post into 1/4" T-nuts in the 2x4:</p>

<p class="photos">
<a href="https://picasaweb.google.com/105062543102538479872/6308273985755876737?authuser=0&feat=directlink">
  <img src="https://lh3.googleusercontent.com/-dyIWKjY56J8/V4t9xNpoqcI/AAAAAAAACLo/wbjL_zjifqk-Y0bDMNnt2F9rtJV_1D50QCCo/s288/IMG_6774.jpg" height="216" width="144" />
  <img src="https://lh3.googleusercontent.com/-qa_NVj2RrTU/V4t9xI8_VDI/AAAAAAAACLo/ELDV6T_-yqEakT6xMLxJ-xrqesohO5wsACCo/s144/IMG_6775.jpg" height="144" width="216" />
  <img src="https://lh3.googleusercontent.com/-kFK2qAvtzkQ/V4t9xCEdbUI/AAAAAAAACLo/ArWYp2hxus4rH7SRDh_-bZ1ehzUWr7ligCCo/s144/IMG_6783.jpg" height="144" width="216" />
</a>
</p>

<p></p>

<p>Internally, there's a Raspberry Pi and a relay board driving the lights.  
By some measure, the RPi is way overkill for driving some relays in sequence, but it's so inexpensive and provides so much flexibility, it's hard to make a case for building discrete logic for this application.</p>

<p>The RPi and relay board are mounted to a narrow piece of hardboard that hangs at the top of the post; two small sections of aluminum angle mounted inside the post provide a slot for it to hang in.  
The RPi could be removed for the off-season if desired, although reconnecting all the header pins would be tedious and painstaking.  
</p>

<p class="photos">
<a href="https://picasaweb.google.com/105062543102538479872/6308273985755876737?authuser=0&feat=directlink">
  <img src="https://lh3.googleusercontent.com/-WsH4SOxJpUk/V4t9xGNXMNI/AAAAAAAACLo/RiTczawPvmQX7Mplg6Ye3uxSmRUcFO_fwCCo/s144/IMG_6777.jpg" height="144" width="216" />
  <img src="https://lh3.googleusercontent.com/-tbqsq0WMrgo/V4t9xKb9lGI/AAAAAAAACLo/Bvdcr8FffWMRH9BVXzKSuuz-1l57xosJACCo/s144/IMG_6779.jpg" height="144" width="216" />
  <img src="https://lh3.googleusercontent.com/-jb8cDguAefg/V4t9xJshCxI/AAAAAAAACLo/7Q5ZK87paX0EwCm1tEdA4mFj7zo9T--ggCCo/s144/IMG_6781.jpg" height="144" width="216" />
</a>
</p>

<p></p>

<p>I added some bolts projecting out of the control board so that the wires could be anchored by cable ties for strain relief.</p>

<p class="photos">
<a href="https://picasaweb.google.com/105062543102538479872/6308273985755876737?authuser=0&feat=directlink">
<img src="https://lh3.googleusercontent.com/-fIZrb5vmG3A/V49iQ9G2baI/AAAAAAAACMU/svFWA1CD7_MmzWDFUTvKii9pWIUWvV4XwCCo/s288/IMG_6787.jpg" height="144" width="216" />
<img src="https://lh3.googleusercontent.com/-PU-2x8plYr0/V49iQ27WLyI/AAAAAAAACMY/2BGr169huacrWrs2bxF6XQyYPBpAEJexwCCo/s144/IMG_6788.jpg" height="144" width="216" />
<img src="https://lh3.googleusercontent.com/-fs7DQN5O1Js/V49iQ1RkWAI/AAAAAAAACMY/9rtQ21tg2OYEYvNnL6fsZDTxPxnJpOTRgCCo/s288/IMG_6789.jpg" height="144" width="216" />
</a>
</p>

<p>The micro-USB cord that provides power to the RPi presented a little bit of a clearance issue; I ended up ordering a right-angle micro-USB cable to resolve it.  Alternatively, I could have mounted the RPi a little off-center on the control board to allow some extra room for a normal cable.</p>

<p class="photos">
  <a href="https://picasaweb.google.com/105062543102538479872/6308273985755876737?authuser=0&feat=directlink">
    <img src="https://lh3.googleusercontent.com/-eaJWJwzd3iE/V4t9xJrnjfI/AAAAAAAACLo/ZDH1nzeWA9QJeq-7MytC9EO_OUHeDmWIACCo/s144/IMG_6786.jpg" height="192" width="288" />
  </a>
</p>
<p>
Other than the post and the RPi, I sourced most everying I used from ebay, including the relay board ($8), the sockets (10/$8.50) LED light bulbs (10/$18), jumper wires, RCA jacks, and terminal strips.  
The bulbs and sockets are E27, which is compatible-in-practice with US-standard E26 bulbs and sockets (the diameter is putatively 1mm different, but either seems to work with the other).</p>

<p>
The RPi is configured to run a python script on start-up.  
During initialization, the script flashes each pair of lights in turn, and then enters its main event loop.  
Pressing the "ready" button on the pole runs a get-your-attention light sequence; pressing the hand-held "start" button sequences the lights and then activates the track start gate.  
I thought about adding a flag so that the "start" button wouldn't operate until the "ready" button had been pressed, but for now I've left them independent.</p>

<p>
Being a fully-functional computer, the RPi could be connected to the local network, and the light tree and starting sequence could potentially be triggered remotely.  
I don't have a use case for that, but maybe that's a valuable capability for someone else.</p>

        </section>

        <aside id="sidebar">
          <p style="font-size: 14pt; text-align: center; font-weight: bold;">Be sure to check out <br/>
          <a href="http://jeffpiazza.github.io/derbynet/">DerbyNet</a>,</br> the open-source, standards-based race management software package!</p>
          <p></p>
          <a href="https://github.com/jeffpiazza/lighttree/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/jeffpiazza/lighttree/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/jeffpiazza/lighttree"></a> is maintained by <a href="https://github.com/jeffpiazza">jeffpiazza</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
